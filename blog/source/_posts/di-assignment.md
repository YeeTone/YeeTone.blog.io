---
title: OOAD——DI作业出题体验
date: 2022-08-08 10:22:31
tags: 学生助理
---
22秋季学期，我将会出任南方科技大学计算机系大三核心课程OOAD（面向对象分析与设计）课程学生助理。我本人之前一直做的是CS102A（计算机程序设计基础A）课程的学生助理，因此这份工作对我来说可能比较陌生，相当于让我跳出了舒适圈。希望各位同学多多指教，多多给我提出建议，谢谢！

根据7月份时候和朱老师及其团队一起开的线上会议，我们团队的部分分工信息如下所示：
- DI作业：YeeTone, Y**
- VUE设计：R**
- UML: P**, W***
- 观察者：W**
- 前后端作业：Y**
- 国际生助教：X*

我本身，其实自己都不知道DI作业出起来有什么意义。我对Spring框架一无所知，不知道依赖注入是想干什么，也不知道为什么要搞一个这种写屎山的作业出来。

但我还是选择接下了这活，毕竟这是最后一次作业，不希望给大家压力太大。不仅如此，以往的DI作业的文档描述都不太清楚，让人摸不着头脑。我希望能尽我所能，把这一现象加以改善。

## 总体评价
这次作业，相比于以往的Java1A作业来说，是我出题以来体验感最不好的一次。主要有以下几个原因：
- 往年的标程标准性很好，但是理解起来不容易，有难度，超过了我的理解范围
- 这个作业和Lecture的内容是完全脱节的，和project也没任何关联
- 出这个作业要改祖传代码，但是祖传作业的文档理解起来难度很大
- 我自己对这个原理还不太了解，也不知道要怎么改

## 出题流程
### Step 1：反复阅读20-21年文档和标程，理解DI作业的工作原理

这个其实很不好做，因为DI作业的文档描述比较糟糕。我大概用了3个小时才把这个作业的前前后后搞明白，大概如下：
- DI的要求：对象创建要抽象化，由调用者转移到一个统一的创建接口。
- 具体流程：
    - createInstance先找具体的实现类
    - 通过实现类找constructor
        - 有@Inject，则是那个有@Inject注解的
        - 没有任何一个带有@Inject，则选无参的
    - 找到constructor后，确定构造器的参数列表parameters
    - 遍历parameters，为每个参数构造相应的对象
    - 再检查相应的成员变量fields，也构造相应的对象
    - 检查@Inject修饰的方法，构造参数并调用注入

### Step 2: 充分考虑Java语言中反射的工作原理，思考改动的方法
我本人之前做Java1A课程的学生助理期间，每个学期都出面向对象的作业，因此对于反射那一套其实是比较清楚的。

我前前后后考虑了很多，包括但不限于：
- java.reflect.Field的参数类型
- java.reflect.Constructor的相关方法
- java.reflect.Parameter的相关方法
- java泛型擦除原理
- 异常数据筛选与清除

我考虑这个出题，大约考虑了3天。终于在不断的自己尝试中，找了一个最能整活，最有意思的改动策略。

我自己评价，这个作业很符合我的风格（让同学们写很多代码，也会给大家高分）。这个作业是比较tricky的，需要同学们有足够的搜索能力和探索能力才能将这次作业做好。

### Step 3：和朱老师沟通，确定最终的方案
这个作业设计好后，朱老师和我开了一次在线会议。

我先和朱老师讨论了project的相关情况。朱老师觉得我想的project难度比较大，因此基础分就比较高。我也觉得难度是比较高的，因为要学习很多技能，要写很多代码。（我不知道会不会比较卷，但我可以确定是所有人都很熟悉的一个题目）

然后又讨论了作业。朱老师觉得我这个作业很有趣，但还是有点太难了，因此还特别给大家减小了一点要求。但总体来说，我这个作业的理解难度是特别小的（因为举了很多例子来说明题目中的每一个要求），如果读不懂题一定是自己没好好读！

### Step 4：移交给搭档Y**完成剩余部分